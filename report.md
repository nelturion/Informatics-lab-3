# Лабораторная работа 3

## Тема: Администрирование маленьких сетей

## Цель работы

Настроить сеть из трех виртуальных машин, Которая будет организована по следующей схеме:
[картинка](./src/scheme.png)

## Ход работы

1. Установлено и запущено 3 виртуальные машины, названы следующим образом:
    - Kali - я использовал уже установленную машину. В конце отчета так же используется название Alpha.
    - Bravo - ВМ с ОС Debian, с графической оболочкой xfce чтобы было проще ориентироваться во время выполнения работы.
    - Charlie - ВМ с ОС Debian, без сторонней графической оболочки.

2. К каждой ВМ подключено по два сетевых адаптера:
    - eth0: для доступа в интернет
    - eth1: для обмена данными внутри локальной сети

    К Kali подключен третий сетевой адаптер для обмена данными со второй сетью

    Интернет на каждой машине работает:
    [internet ping](./src/pingGoogleInitial.png)

3. На адаптер каждой ВМ был задан соответствующий IP адрес с помощью команды:

    Kali:
    ```bash
        sudo ifconfig eth0 192.168.80.1/30
        sudo ifconfig eth1 192.168.81.1/30
    ```

    Bravo:
    ```bash
        sudo ip addr add 192.168.80.2/30 dev enp0s8
    ```

    Charlie:
    ```bash
        sudo ip addr add 192.168.81.2/30 dev enp0s8
    ```
4. Проверяем, что IP заданы и все готово к проверке пингованием (обмен ICMP пакетами)

    [screenshot ip a](./src/ipA.png)

5. (на всякий случай) Проверяем, что подключение к интенету не отвалилось:

    [screenshot ping google](./src/pingGoogle2.png)

6. Проверяем соединение Alpha-Bravo:

    [A-B connection](./src/ABconnect.png)

    Так же должно работать и в обратную сторону - Bravo-Alpha:
    [B-A connection](./src/BAconnect.png)

7. Проверяем соединение Alpha-Charlie:

    [A-C connection](./src/ACconnect.png)

    Так же должно работать и в обратную сторону - Charlie-Alpha:
    [C-A connection](./src/CAconnect.png)

8. Проверяем недоступность соединения Bravo-Charlie:

    [B-C no connection](./src/BCnoway.png)

    Так же должно не работать и в обратную сторону - Charlie-Bravo:
    [C-B no connection](./src/CBnoway.png)

## Почему это работает?

Потому что мы организовали две подсети в сети 192.168, между ними есть межсетевой экран (firewall), который не позволяет получить доступ от одного устройства к другому из разных подсетей. Это можно обойти с помощью особых правил для межсетевого экрана (с помощью утилиты iptables), но в лабораторной работе этого не требовалось.

Сервер (машину Alpha) можно найти по двум адресам: 192.168.80.1 и 192.168.81.1, а подключенные к нему машины Bravo и Charlie можно найти по адресу 192.168.80.2 и 192.168.81.2 соответственно.
